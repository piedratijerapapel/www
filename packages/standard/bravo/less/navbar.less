/*
 *	Standard / Bravo
 *  Automad Theme
 *
 *	Copyright (c) 2017-2018 by Marc Anton Dahmen
 *	http://marcdahmen.de
 *
 *  MIT license
 *
 *  based on UIkit 2
 */

@navbar-background:            	fade(@base-body-background, 97%);
@navbar-color:                 	@base-body-color;

@navbar-nav-height:            	80px;
@navbar-nav-height-large:      	90px;
@navbar-nav-font-size:         	1rem;
@navbar-nav-font-weight:       	400;
@navbar-nav-font-family:       	@base-body-font-family;
@navbar-nav-padding-horizontal:	15px;

@navbar-nav-color:             	@navbar-color;
@navbar-nav-hover-background:  	transparent;
@navbar-nav-hover-color:       	@navbar-color;
@navbar-nav-onclick-background:	transparent;
@navbar-nav-onclick-color:     	@navbar-color;
@navbar-nav-active-background: 	transparent;
@navbar-nav-active-color:      	@navbar-color;

@navbar-brand-font-size: 		16px;

@navbar-toggle-width: 			18px;

.hook-navbar-misc() {
	
	.navbar {
		
		position: fixed;
		box-sizing: border-box;
		z-index: 1000;
		width: 100%;
		top: 0;
		
		& .uk-modal {
			z-index: -1;
		}
		
		&-push {
			
			padding-top: @navbar-nav-height !important;
			
			@media (min-width: @breakpoint-large) {
				padding-top: @navbar-nav-height-large !important;
			}
			
		}
		
		&-toggle {
			
			cursor: pointer;
			display: block;
			height: @navbar-nav-height;
			position: relative;
			width: @navbar-nav-height;	
			margin-left: auto;
			margin-right: -((@navbar-nav-height - @navbar-toggle-width) / 2) + @navbar-nav-padding-horizontal;
			
			@media (min-width: @breakpoint-xlarge) {
				height: @navbar-nav-height-large;
				width: @navbar-nav-height-large;
				margin-right: -((@navbar-nav-height-large - @navbar-toggle-width) / 2) + @navbar-nav-padding-horizontal;
			}
			
			& span {
				background-color: @navbar-color;
				display: block;
				height: 2px;
				left: ~"calc(50% - (@{navbar-toggle-width} / 2))";
				position: absolute;
				-webkit-transform-origin: center;
				transform-origin: center;
				transition-duration: 0.2s;
				transition-property: background-color, opacity, -webkit-transform;
				transition-property: background-color, opacity, transform;
				transition-property: background-color, opacity, transform, -webkit-transform;
				transition-timing-function: ease-out;
				width: @navbar-toggle-width;
			}
			
			& span:nth-child(1) {
				top: ~"calc(50% - 8px)";
				width: @navbar-toggle-width * 0.9;
			}
			
			& span:nth-child(2) {
				top: ~"calc(50% - 2px)";
				width: @navbar-toggle-width * 0.7;
			}
			
			& span:nth-child(3) {
				top: ~"calc(50% + 4px)";
			}
			
			&.uk-active span:nth-child(1) {
				width: @navbar-toggle-width;
				-webkit-transform: translateY(6px) rotate(45deg);
				transform: translateY(6px) rotate(45deg);
			}
			
			&.uk-active span:nth-child(2) {
				opacity: 0;
			}
			
			&.uk-active span:nth-child(3) {
				-webkit-transform: translateY(-6px) rotate(-45deg);
				transform: translateY(-6px) rotate(-45deg);
			}
				
		}
		
	}
	
	.uk-navbar-brand {
		font-weight: 500;
		line-break: 1;
	}
	
}

.hook-navbar() {
	
	margin: 0 -@utility-container-padding-horizontal;
	padding: 0 (@utility-container-padding-horizontal - @navbar-nav-padding-horizontal);
	
	@media (min-width: @breakpoint-xlarge) {	
		margin: 0 -@utility-container-large-padding-horizontal;
		padding: 0 (@utility-container-large-padding-horizontal - @navbar-nav-padding-horizontal);
	} 
	
}

.hook-navbar-nav() {

	.transition(opacity 0.2s;);

	.uk-modal-page & {
		opacity: 0;
		pointer-events: none;
	}

	@media (min-width: @breakpoint-xlarge) {
		height: @navbar-nav-height-large;
		line-height: @navbar-nav-height-large;
	}
	
	&:after {
		content: '';
		position: absolute;
		display: block;
		left: @navbar-nav-padding-horizontal;
		right: @navbar-nav-padding-horizontal;
		bottom: ~"calc(50% - 14px)";
		padding: inherit;
		border-bottom: @border-width solid transparent;
		.transition(border-color 0.2s;);
	}
	
}

.hook-navbar-nav-hover() {
	&:after {
		border-bottom-color: inherit;
	}
}

.hook-navbar-nav-onclick() {
	&:after {
		border-bottom-color: inherit;
	}
}

.hook-navbar-nav-active() {
	&:after {
		border-bottom-color: inherit;
	}
}

.hook-navbar-content() {
	@media (min-width: @breakpoint-xlarge) {
		height: @navbar-nav-height-large;
	}
}
